<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenNI2 SDK: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png" height="44"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><span style="font-family:Georgia">OpenNI2 SDK</span>
   &#160;<span id="projectnumber", style="font-family:Georgia">v2.3.0.66</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">OS  </th><th class="markdownTableHeadNone">Requirements  </th><th class="markdownTableHeadNone">Details   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Windows  </td><td class="markdownTableBodyNone">1、Windows 7, 8 and 10, 32-bit and 64-bit <br />
2、x86-based processor @ 1.8+ ghz <br />
3、USB 2.0 <br />
4、4 gigabytes of RAM  </td><td class="markdownTableBodyNone">Supports development with Visual Studio 2013/2015/2017/2019. Visual Studio 2017/2019 use the same package with Visual Studio 2015.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">Linux  </td><td class="markdownTableBodyNone">1、Ubuntu 14.04 or later(Ubuntu 20.04), x86_64, arm, arm64 <br />
2、amd64-based processor @ 1.8+ ghz<br />
3、USB 2.0 <br />
4、1 gigabyte of RAM  </td><td class="markdownTableBodyNone">GCC 4.9 and Clang 3.5 have both been extensively tested, but any compiler with support for C++11 should be compatible,including GCC 4.9 or better, Clang 3.1 or better, and Android NDK r9e or better.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Android  </td><td class="markdownTableBodyNone">1、Android OS 4.4.2 (KitKat) + <br />
2、ARMv7a/ARM64v8a processor @ 1.5 ghz+ <br />
3、USB 2.0 host support (OTG-capable) <br />
4、512 megabytes of RAM  </td><td class="markdownTableBodyNone">GCC 4.9 and Clang 3.5 have both been extensively tested, but any compiler with support for C++11 should be compatible,including GCC 4.9 or better, Clang 3.1 or better, and Android NDK r9e or better.   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md6"></a>
Windows Installation</h1>
<h2><a class="anchor" id="autotoc_md7"></a>
Installing the Driver</h2>
<p>First, download the latest <a href="https://orbbec3d.com/develop/">Orbbec Sensor Driver for Windows</a>, then run the installer:</p>
<p>1.Click install to start install process.</p>
<div class="image">
<img src="install_driver_01.png" alt="install_driver_01.png"/>
</div>
<p>2.While in the dirver installer wizard window, click next.</p>
<div class="image">
<img src="install_driver_02.png" alt="install_driver_02.png"/>
</div>
<p>3.If you see panel like this, the dirver installed right.</p>
<div class="image">
<img src="install_driver_03.png" alt="install_driver_03.png"/>
</div>
<p>4.After install finished, click finish to complete</p>
<div class="image">
<img src="install_driver_04.png" alt="install_driver_04.png"/>
</div>
<p>5.When you complete install the driver, you can connect the device to your PC, then in your device manager, you will see the new orbbec deivce.</p>
<div class="image">
<img src="install_driver_05.png" alt="install_driver_05.png"/>
</div>
<h2><a class="anchor" id="autotoc_md8"></a>
Download the SDK</h2>
<p>We provide SDK versions list blow:</p>
<ul>
<li>OpenNI SDK for Windows 32-bit</li>
<li>OpenNI SDK for Windows 64-bit</li>
<li>OpenNI SDK for Linux 32-bit</li>
<li>OpenNI SDK for Linux 64-bit</li>
<li>OpenNI SDK for Linux arm</li>
<li>OpenNI SDK for Linux arm64</li>
<li>OpenNI SDK for Android arm64-v8a</li>
<li>OpenNI SDK for Android armeabi-v7a</li>
</ul>
<p><a href="https://orbbec3d.com/develop/">Download</a> the corresponding version SDK.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
Setup for Visual Studio</h2>
<p>1.Copy OpenNI2 SDK sdk/windows to a folder, for example called $OpenNI_SDK_HOME.</p>
<p>2.Open a new project or an existing one.</p>
<p>3.In the Visual Studio menu, open the Project menu and choose Project properties. </p><div class="image">
<img src="installation_vs_project_properties_en.png" alt="installation_vs_project_properties_en.png"/>
</div>
<p>4.In the C/C++ section, under the General node, find the "Additional Include Directories" and add "$(OpenNI_SDK_HOME)\include".</p>
<div class="image">
<img src="installation_vs_include.png" alt="installation_vs_include.png"/>
</div>
<p>5.In the Linker section, under the General node, find the "Additional Library Directories" and add "$(OpenNI_SDK_HOME)\x64-Release".</p>
<div class="image">
<img src="installation_vs_lib_dir.png" alt="installation_vs_lib_dir.png"/>
</div>
<p>6.In the Linker section, under the Input node, find the "Additional
Dependencies" and add OpenNI2.lib。</p>
<div class="image">
<img src="installation_vs_libs.png" alt="installation_vs_libs.png"/>
</div>
<h2><a class="anchor" id="autotoc_md10"></a>
Run the NiViewer.exe</h2>
<p>In the -Release\ folder，run the NiViewer.exe, you will see below：</p>
<div class="image">
<img src="nivewer_demo_res.png" alt="nivewer_demo_res.png"/>
</div>
<h1><a class="anchor" id="autotoc_md11"></a>
Linux Installation</h1>
<h2><a class="anchor" id="autotoc_md12"></a>
Installing the Driver</h2>
<p>Devices under the Linux platform are loaded as common CMOS cameras. Currently, the popular Linux platforms have built-in corresponding drivers, and no additional installation is required.</p>
<p>But installation prerequisites are required：</p>
<p>freeglut3</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Configure the OpenNI2 SDK in the Makefile</h2>
<h3><a class="anchor" id="autotoc_md14"></a>
Library files</h3>
<ul>
<li>libOpenNI2.so</li>
<li>OpenNI2/Drivers/libOniFile.so</li>
<li>OpenNI2/Drivers/liborbbec.so</li>
</ul>
<h3><a class="anchor" id="autotoc_md15"></a>
Configuration files</h3>
<ul>
<li>OpenNI.ini</li>
<li>OpenNI2/Drivers/orbbec.ini</li>
</ul>
<h3><a class="anchor" id="autotoc_md16"></a>
Configuration in the Makefile</h3>
<ul>
<li>Add the header Include directory to the Include directory INC_DIRS = ../../Include \</li>
<li>Add OpenNI2 to the Lib you use USED_LIBS += OpenNI2</li>
</ul>
<h3><a class="anchor" id="autotoc_md17"></a>
Run Sample and NiViewer</h3>
<p>1.First, connect the camera and computer, and check the device through the following command line:</p>
<div class="fragment"><div class="line">username@ubuntu:~$ lsusb</div></div><!-- fragment --><p>At this point, you can view the PID/VID of the camera device, and then use the OpenNI SDK to view the depth image.</p>
<p>2.Obtain the SDK packet of the corresponding platform in the official developer community. Website: <a href="https://developer.orbbec.com.cn/download.html?id=64">OpenNI SDK for Linux</a> This topic selects the Linux-x64 platform. Decompresses it after downloading. For more information about how to use the SDK, see Readme in the folder.</p>
<div class="fragment"><div class="line">username@ubuntu:~/OpenNI-Linux-x64-2.3.0.65$ vi Readme</div></div><!-- fragment --><p>3.Next, install the Sample runtime environment. Follow the steps in the Readme document to install the necessary libraries, and then install and configure the environment. The command line is as follows:</p>
<div class="fragment"><div class="line">username@ubuntu:~/OpenNI-Linux-x64-2.3.0.65$ sudo apt-get install build-essential freeglut3 freeglut3-dev</div><div class="line">username@ubuntu:~/OpenNI-Linux-x64-2.3.0.65$ sudo ./install.sh</div><div class="line">username@ubuntu:~/OpenNI-Linux-x64-2.3.0.65$ source OpenNIDevEnvironment</div></div><!-- fragment --><p>Note: You may need to modify the file permissions to run install.sh. You can use "ll" to view the permissions and "chmod" to modify the permissions, as follows:</p>
<div class="fragment"><div class="line">username@ubuntu:~/OpenNI-Linux-x64-2.3.0.65$ ll</div><div class="line">username@ubuntu:~/OpenNI-Linux-x64-2.3.0.65$ chmod 777 install.sh</div></div><!-- fragment --><p>4.Next, run provided Sample executable files in the Bin folder under the Sample path. Similarly, you need to use "chmod" to modify file permissions. Take SimpleViewer as an example. Run the "sudo" command to run the program. The command line is as follows:</p>
<div class="fragment"><div class="line">username@ubuntu:~/OpenNI-Linux-x64-2.3.0.65/Sample/Bin$ chmod 777 SimpleViewer</div><div class="line">username@ubuntu:~/OpenNI-Linux-x64-2.3.0.65/Sample/Bin$ sudo ./SimpleViewer</div></div><!-- fragment --><p>5.At the same time, there is a NiViewer executable file in the Tools Directory. Run the NiViewer by running the following command at the command line terminal:</p>
<div class="fragment"><div class="line">username@ubuntu:~/OpenNI-Linux-x64-2.3.0.65/Tools$ ./NiViewer</div></div><!-- fragment --><p>You will see the following display:</p>
<div class="image">
<img src="nivewer_demo_res.png" alt="nivewer_demo_res.png"/>
</div>
<h1><a class="anchor" id="autotoc_md18"></a>
Android Installation</h1>
<h2><a class="anchor" id="autotoc_md19"></a>
Installing the Driver</h2>
<p>Under the Android platform, since the underlying layer is based on the Linux platform, the corresponding driver of the camera has been built in, so no additional installation is required.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
Setup for Android Studio</h2>
<h3><a class="anchor" id="autotoc_md21"></a>
Library files</h3>
<p>The libraries provided by the OpenNI2 SDK for Android users include two parts, five so dynamic library files and one jar file:</p><ul>
<li>libOniFile.so</li>
<li>libOpenNI2.jni.so</li>
<li>libOpenNI2.so</li>
<li>liborbbec.so</li>
<li>liborbbecusb2.so</li>
<li>openni2.3.jar</li>
</ul>
<h3><a class="anchor" id="autotoc_md22"></a>
ini files</h3>
<p>Two ini configuration files</p><ul>
<li>OpenNI.ini</li>
<li>orbbec.ini</li>
</ul>
<h3><a class="anchor" id="autotoc_md23"></a>
Configure the OpenNI2 SDK in the Android Studio project</h3>
<ul>
<li>Copy the library files to the libs directory of the project Module <div class="image">
<img src="android_inlcude_so.png" alt="android_inlcude_so.png"/>
</div>
</li>
<li>Copy the ini files to the app-&gt;src-&gt;main-&gt;asset-&gt;openni directory of the project Module <div class="image">
<img src="android_openni_config.png" alt="android_openni_config.png"/>
</div>
</li>
<li>Respecify the jniLibs directory in the build.gradle configuration of the Module, and finally synchronize the entire project <div class="image">
<img src="android_build_gradle.png" alt="android_build_gradle.png"/>
</div>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md24"></a>
Run Android Sample</h2>
<p>Comming soon. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
  <strong>© 2020 <a href="https://orbbec3d.com/">Orbbec 3D</a></strong> All Rights Reserved.
</small></address>
</body>
</html>
